<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#ff4d8d" />
  <title>G·ª≠i em ‚Äî Valentine 14/02</title>

  <style>
    :root{
      --bg1:#0b1020; --bg2:#1b0b2a;
      --card: rgba(255,255,255,.08);
      --stroke: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);
      --accent:#ff4d8d;
      --accent2:#ffb3c7;
      --shadow: 0 18px 55px rgba(0,0,0,.38);

      --radius: 24px;
      --cardPad: 22px;
      --gap: 18px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(1100px 680px at 20% 10%, rgba(255,77,141,.25), transparent 60%),
        radial-gradient(1000px 560px at 80% 30%, rgba(255,179,199,.20), transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      min-height:100vh;
      padding-bottom: 112px; /* ch·ª´a ch·ªó n√∫t nh·∫°c */
      overflow-x:hidden;
    }

    .wrap{
      max-width: 860px;
      margin: 0 auto;
      padding: 28px 22px;
    }

    .hero{
      display:flex;
      flex-direction:column;
      gap: var(--gap);
      position:relative;
    }

    .badge{
      display:inline-flex; gap:10px; align-items:center;
      padding: 8px 14px;
      border-radius:999px;
      background:rgba(255,255,255,.10);
      border:1px solid var(--stroke);
      width:max-content;
      font-size: 13px;
    }

    .title{
      font-size: 36px;
      line-height:1.12;
      margin:0;
      letter-spacing: -0.3px;
    }

    .sub{
      margin:0;
      color:var(--muted);
      font-size: 17px;
      line-height:1.6;
    }

    .card{
      border:1px solid var(--stroke);
      background:var(--card);
      border-radius: var(--radius);
      padding: var(--cardPad);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
    }

    /* Buttons */
    .btns{ display:flex; gap:12px; margin-top: 16px; }
    button{
      flex:1;
      cursor:pointer;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.10);
      color: var(--text);
      padding: 14px 14px;
      border-radius: 14px;
      font-weight: 800;
      font-size: 16px;
      transition: transform .08s ease, filter .15s ease;
    }
    button:hover{ filter: brightness(1.06); }
    button:active{ transform: translateY(1px); }
    button.primary{
      border:none;
      background: linear-gradient(90deg, var(--accent), #ff7aa8);
    }

    /* Count */
    .count{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin-top: 16px;
    }
    .pill{
      padding: 14px 8px;
      border-radius: 14px;
      text-align:center;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.12);
    }
    .n{
      font-size: 22px;
      font-weight: 900;
      color: var(--accent2);
    }
    .lab{
      font-size: 12px;
      color: var(--muted);
      margin-top: 4px;
    }

    @media (max-width:640px){
      .wrap{ padding: 22px 16px; }
      .title{ font-size: 30px; }
      .count{ grid-template-columns: repeat(2, 1fr); }
      .btns{ flex-direction: column; }
      button{ width:100%; }
    }

    .muted{ color: var(--muted); }

    /* Feed style */
    .feed-title{
      font-size: 20px;
      font-weight: 900;
      margin: 0 0 14px;
      display:flex;
      align-items:center;
      gap:10px;
      letter-spacing: .1px;
    }

    .feed-item{
      display:flex;
      flex-direction:column;
      gap: 14px;
      margin-bottom: 18px;
      background: rgba(0,0,0,0.22);
      padding: 14px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: 0 10px 30px rgba(0,0,0,.18);
    }

    .imgWrap{
      position:relative;
      border-radius: 14px;
      overflow:hidden;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.10);
    }

    .feed-img{
      width:100%;
      display:block;
      object-fit:cover;
      aspect-ratio: 4 / 5; /* ki·ªÉu IG */
      cursor:pointer;
      background: rgba(255,255,255,0.03);
    }

    .imgPh{
      position:absolute;
      inset:0;
      display:grid;
      place-items:center;
      text-align:center;
      padding: 18px;
      color: rgba(255,255,255,.75);
      font-size: 14px;
      line-height: 1.6;
      background:
        radial-gradient(420px 220px at 30% 30%, rgba(255,77,141,.20), transparent 60%),
        radial-gradient(420px 220px at 70% 70%, rgba(255,179,199,.14), transparent 60%),
        rgba(0,0,0,.18);
    }
    .imgPh b{ color: rgba(255,255,255,.92); }

    .feed-caption{
      font-size: 16px;
      line-height: 1.65;
      color: rgba(255,255,255,0.92);
    }
    .feed-caption b{ color: var(--accent2); }
    .feed-date{
      font-size: 13px;
      color: var(--muted);
      margin-top: 8px;
      display:block;
    }

    /* Modals */
    .modal{
      position: fixed;
      inset: 0;
      display: none;
      place-items: center;
      background: rgba(0,0,0,.85);
      padding: 18px;
      z-index: 999;
    }
    .modal.on{ display:grid; }

    .paper{
      width: 100%;
      border-radius: 22px;
      padding: 22px;
      background: #14142a;
      border: 1px solid rgba(255,255,255,.18);
      max-height: 82vh;
      overflow-y: auto;
      box-shadow: var(--shadow);
    }
    .paper h3{ margin: 0 0 10px; color: var(--accent); font-size: 20px; }
    .paper p{ margin: 0; line-height: 1.8; font-size: 17px; color: rgba(255,255,255,.92); }
    .paper .sig{ margin-top: 16px; color: var(--muted); }

    /* Photo viewer */
    .photoBox{
      width:100%;
      max-width: 980px;
      border-radius: 22px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(20,14,32,.72);
      backdrop-filter: blur(14px);
      box-shadow: var(--shadow);
    }
    .photoTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      padding: 14px 14px 12px;
      border-bottom: 1px solid rgba(255,255,255,.12);
    }
    .photoTop .ttl{ font-weight: 900; letter-spacing:.1px; font-size: 16px; }

    .photoBody{
      display:grid;
      grid-template-columns: 1.25fr .75fr;
    }
    @media (max-width:860px){
      .photoBody{ grid-template-columns: 1fr; }
    }
    .photoBody img{
      width:100%;
      max-height: 76vh;
      object-fit: contain;
      display:block;
      background: rgba(0,0,0,.25);
    }
    .photoSide{
      padding: 14px 16px;
      border-left: 1px solid rgba(255,255,255,.12);
    }
    @media (max-width:860px){
      .photoSide{ border-left:none; border-top: 1px solid rgba(255,255,255,.12); }
    }
    .photoSide .desc{ margin:0; color: rgba(255,255,255,.92); line-height:1.75; font-size: 16px; }
    .photoSide .meta{ margin-top: 12px; color: var(--muted); font-size: 13px; }

    /* Hearts */
    .heart{
      position:absolute;
      opacity:.30;
      pointer-events:none;
      animation: floatUp 9s linear infinite;
    }
    @keyframes floatUp{
      from{ transform: translateY(40px) scale(.9); opacity:0; }
      10%{ opacity:.55; }
      to{ transform: translateY(-650px) scale(1.15); opacity:0; }
    }

    /* Music button */
    #music-control{
      position: fixed;
      bottom: 22px;
      right: 22px;
      z-index: 1200;
      width: 58px;
      height: 58px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: rgba(255, 77, 141, 0.82);
      color: #fff;
      border-radius: 50%;
      box-shadow: 0 10px 26px rgba(255, 77, 141, 0.35);
      font-size: 22px;
      user-select:none;
      cursor:pointer;
      border: 1px solid rgba(255,255,255,.16);
      transition: transform .08s ease, filter .15s ease;
    }
    #music-control:hover{ filter: brightness(1.05); }
    #music-control:active{ transform: translateY(1px); }
    #music-control.playing{ animation: pulse 2s infinite; }
    @keyframes pulse{
      0%{ box-shadow: 0 0 0 0 rgba(255,77,141,0.38); }
      70%{ box-shadow: 0 0 0 18px rgba(0,0,0,0); }
      100%{ box-shadow: 0 0 0 0 rgba(0,0,0,0); }
    }

    /* Hint toast */
    .toast{
      position: fixed;
      right: 98px;
      bottom: 30px;
      z-index: 1200;
      padding: 12px 14px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(20,14,32,.72);
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
      color: rgba(255,255,255,.88);
      font-size: 13px;
      line-height: 1.45;
      display:none;
      max-width: 260px;
    }
    .toast.on{ display:block; }
    .toast b{ color: var(--accent2); }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="hero" id="hero">

      <div style="text-align:center; padding: 8px 0;">
        <div class="badge">üíå Surprise!</div>
        <h1 class="title" style="margin-top:10px;">
          G·ª≠i <span style="color:var(--accent2)">em</span> üíó
        </h1>
        <p class="sub">M√≥n qu√† nh·ªè t·∫∑ng ng∆∞·ªùi th∆∞∆°ng.</p>
      </div>

      <div class="card">
        <div style="display:flex; justify-content:space-between; align-items:center; gap:10px;">
          <span style="font-weight:900;">‚è≥ B√™n nhau ƒë∆∞·ª£c</span>
          <span style="font-size:13px; opacity:.75;">Since 10/01/2026</span>
        </div>

        <div class="count">
          <div class="pill"><div class="n" id="d">0</div><div class="lab">Ng√†y</div></div>
          <div class="pill"><div class="n" id="h">0</div><div class="lab">Gi·ªù</div></div>
          <div class="pill"><div class="n" id="m">0</div><div class="lab">Ph√∫t</div></div>
          <div class="pill"><div class="n" id="s">0</div><div class="lab">Gi√¢y</div></div>
        </div>

        <div class="btns">
          <button class="primary" id="openLetter">üíå ƒê·ªçc th∆∞</button>
          <button id="secret">‚ú® B√≠ m·∫≠t</button>
        </div>

        <p class="muted" style="margin:14px 0 0; font-size:14px;">
          N·∫øu nh·∫°c ch∆∞a t·ª± ph√°t, b·∫•m n√∫t tr√≤n üéµ ·ªü g√≥c ph·∫£i nh√©.
        </p>
      </div>

      <div class="card">
        <div class="feed-title">üì∏ Nh·∫≠t k√Ω c·ªßa t·ª•i m√¨nh</div>
        <div id="feed"></div>
        <p class="muted" style="margin: 6px 0 0; font-size: 13px;">
          Tip: B·∫•m v√†o ·∫£nh ƒë·ªÉ xem l·ªõn.
        </p>
      </div>

      <p class="muted" style="text-align:center; font-size:14px; margin: 0;">
        Made with üíó by <b>trifreepy</b> for <b>joylepeach1</b>
      </p>

    </div>
  </div>

  <!-- Letter modal -->
  <div class="modal" id="letterModal">
    <div class="paper">
      <h3>üìù G·ª≠i em,</h3>
      <p id="letter">
        Em √†, c·∫£m ∆°n em v√¨ ƒë√£ ƒë·∫øn v√† ·ªü l·∫°i b√™n anh.<br><br>
        Valentine n√†y c√≥ th·ªÉ kh√¥ng qu√° ho√†nh tr√°ng, nh∆∞ng trang web n√†y l√† do ch√≠nh tay anh l√†m,
        t·ª´ng d√≤ng code ƒë·ªÅu l√† t√¨nh c·∫£m anh d√†nh cho em.<br><br>
        Mong l√† em s·∫Ω th√≠ch n√≥. Y√™u em nhi·ªÅu! üíó
      </p>

      <div class="sig" style="text-align:right;">‚Äî <b>trifreepy</b></div>

      <div style="text-align:right; margin-top:16px;">
        <button id="closeLetter" style="width:auto; padding:10px 18px;">ƒê√≥ng</button>
      </div>
    </div>
  </div>

  <!-- Photo viewer modal -->
  <div class="modal" id="photoModal">
    <div class="photoBox" role="dialog" aria-modal="true">
      <div class="photoTop">
        <div class="ttl" id="pvTitle">·∫¢nh</div>
        <button id="closePhoto" style="width:auto; padding:10px 16px;">ƒê√≥ng</button>
      </div>
      <div class="photoBody">
        <img id="pvImg" alt="·∫¢nh xem l·ªõn" />
        <div class="photoSide">
          <p class="desc" id="pvDesc"></p>
          <div class="meta" id="pvMeta"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Audio (ƒë√∫ng th∆∞ m·ª•c c·ªßa b·∫°n) -->
  <audio id="player" loop preload="metadata">
    <source src="music/noinaycoanh.mp4" type="audio/mp4">
    <source src="music/noinaycoanh.mp4" type="video/mp4">
  </audio>

  <!-- Music button + hint -->
  <div id="music-control" title="B·∫≠t / T·∫Øt nh·∫°c">üîá</div>
  <div class="toast" id="toast">B·∫•m <b>üéµ</b> ƒë·ªÉ b·∫≠t nh·∫°c nha üíó</div>

  <script>
    const $ = (id) => document.getElementById(id);

    // ===== Count up since 10/01/2026 00:00 Asia/Ho_Chi_Minh (UTC+7) =====
    const start = new Date("2026-01-09T17:00:00Z"); // 00:00 +07

    function tick(){
      const now = new Date();
      let diff = Math.max(0, now - start);
      const d = Math.floor(diff / 86400000); diff -= d * 86400000;
      const h = Math.floor(diff / 3600000);  diff -= h * 3600000;
      const m = Math.floor(diff / 60000);    diff -= m * 60000;
      const s = Math.floor(diff / 1000);

      $("d").textContent = d;
      $("h").textContent = h;
      $("m").textContent = m;
      $("s").textContent = s;
    }
    setInterval(tick, 1000);
    tick();

    // ===== Music =====
    const audio = $("player");
    const musicBtn = $("music-control");
    const toast = $("toast");
    let isPlaying = false;

    audio.volume = 0.65;

    function showToast(show){ toast.classList.toggle("on", !!show); }

    async function playMusic(){
      try{
        await audio.play();
        isPlaying = true;
        musicBtn.textContent = "üéµ";
        musicBtn.classList.add("playing");
        showToast(false);
      }catch(e){
        // Autoplay c√≥ th·ªÉ b·ªã ch·∫∑n tr√™n mobile
        showToast(true);
      }
    }

    function pauseMusic(){
      audio.pause();
      isPlaying = false;
      musicBtn.textContent = "üîá";
      musicBtn.classList.remove("playing");
    }

    musicBtn.onclick = () => (isPlaying ? pauseMusic() : playMusic());

    // c·ªë autoplay 1 l·∫ßn
    window.addEventListener("load", () => setTimeout(playMusic, 350));
    // click ƒë·∫ßu ti√™n tr√™n trang s·∫Ω b·∫≠t nh·∫°c (n·∫øu b·ªã ch·∫∑n)
    document.addEventListener("click", () => { if(!isPlaying) playMusic(); }, { once:true });

    // ===== Letter Modal =====
    const letterModal = $("letterModal");
    $("openLetter").onclick = () => { letterModal.classList.add("on"); playMusic(); };
    $("closeLetter").onclick = () => letterModal.classList.remove("on");
    letterModal.onclick = (e) => { if(e.target === letterModal) letterModal.classList.remove("on"); };

    // ===== Hearts =====
    function spawnHearts(n=18){
      const hero = $("hero");
      for(let i=0;i<n;i++){
        const h = document.createElement("div");
        h.className = "heart";
        h.textContent = Math.random() > .5 ? "üíó" : "üåπ";
        h.style.left = (Math.random()*100) + "%";
        h.style.bottom = (-10 - Math.random()*30) + "px";
        h.style.fontSize = (14 + Math.random()*24) + "px";
        h.style.animationDuration = (5 + Math.random()*5) + "s";
        hero.appendChild(h);
        setTimeout(()=>h.remove(), 10000);
      }
    }
    $("secret").onclick = () => { alert("Y√™u em 3000 ‚ù§Ô∏è"); spawnHearts(24); playMusic(); };

    // ===== CAPTIONS: B·∫°n ch·ªâ c·∫ßn s·ª≠a n·ªôi dung ·ªü ƒë√¢y =====
    // ·∫¢nh s·∫Ω l√† images/1.jpg ... images/10.jpg
    const CAPTIONS = {
      1: { title: "Kho·∫£nh kh·∫Øc ƒë·∫ßu ti√™n", text: "Nh√¨n l·∫°i ·∫£nh n√†y l√† anh l·∫°i th·∫•y b√¨nh y√™n.", date: "üìÖ 10/01/2026" },
      2: { title: "M·ªôt ng√†y r·∫•t th∆∞∆°ng", text: "May qu√° m√¨nh c√≥ nhau.", date: "üìÖ 15/01/2026" },
      3: { title: "C∆∞·ªùi c√°i l√† tan m·ªát", text: "Ch·ªâ c·∫ßn em c∆∞·ªùi l√† ƒë·ªß.", date: "üìÖ 20/01/2026" },
      4: { title: "ƒê√°ng y√™u qu√° tr·ªùi", text: "Anh th√≠ch nh·ªØng kho·∫£nh kh·∫Øc b√¨nh th∆∞·ªùng nh∆∞ v·∫≠y.", date: "üìÖ 25/01/2026" },
      5: { title: "Nh·ªõ h√¥m ƒë√≥ gh√™", text: "M·ªôt k·ª∑ ni·ªám nh·ªè m√† anh gi·ªØ k·ªπ.", date: "üìÖ 01/02/2026" },
      6: { title: "B·ªØa ƒÉn ngon v√¨ c√≥ em", text: "C·∫£m gi√°c nh∆∞ nh√†.", date: "üìÖ 05/02/2026" },
      7: { title: "K·ª∑ ni·ªám #7", text: "B·∫°n s·ª≠a caption n√†y nha.", date: "üìÖ ..." },
      8: { title: "K·ª∑ ni·ªám #8", text: "B·∫°n s·ª≠a caption n√†y nha.", date: "üìÖ ..." },
      9: { title: "K·ª∑ ni·ªám #9", text: "B·∫°n s·ª≠a caption n√†y nha.", date: "üìÖ ..." },
      10:{ title: "K·ª∑ ni·ªám #10",text: "B·∫°n s·ª≠a caption n√†y nha.", date: "üìÖ ..." },
    };

    // ===== Auto-generate FEED t·ª´ 1 ‚Üí 10 =====
    const TOTAL_IMAGES = 10;
    const FEED = Array.from({length: TOTAL_IMAGES}, (_, i) => {
      const n = i + 1;
      const c = CAPTIONS[n] || { title:`K·ª∑ ni·ªám #${n}`, text:"(B·∫°n th√™m m√¥ t·∫£ ·ªü CAPTIONS)", date:"" };
      return {
        src: `images/${n}.jpg`,
        title: c.title || `K·ª∑ ni·ªám #${n}`,
        text: c.text || "",
        date: c.date || ""
      };
    });

    // ===== Render feed =====
    const feedEl = $("feed");

    function escapeHtml(s){
      return String(s)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    function renderFeed(){
      feedEl.innerHTML = "";
      FEED.forEach((item, idx) => {
        const wrap = document.createElement("div");
        wrap.className = "feed-item";

        const imgWrap = document.createElement("div");
        imgWrap.className = "imgWrap";

        const ph = document.createElement("div");
        ph.className = "imgPh";
        ph.innerHTML = `<div><b>·∫¢nh #${idx+1}</b><br/>N·∫øu ·∫£nh ch∆∞a c√≥, h√£y th√™m file: <b>${escapeHtml(item.src)}</b></div>`;

        const img = document.createElement("img");
        img.className = "feed-img";
        img.src = item.src;
        img.alt = item.title || `·∫¢nh ${idx+1}`;
        img.loading = "lazy";

        img.onload = () => { ph.style.display = "none"; };
        img.onerror = () => { img.style.display = "none"; ph.style.display = "grid"; };

        img.onclick = () => openPhoto(item, idx);

        imgWrap.appendChild(ph);
        imgWrap.appendChild(img);

        const cap = document.createElement("div");
        cap.className = "feed-caption";
        cap.innerHTML = `
          <b>${escapeHtml(item.title || "")}</b><br/>
          ${escapeHtml(item.text || "")}
          <span class="feed-date">${escapeHtml(item.date || "")}</span>
        `;

        wrap.appendChild(imgWrap);
        wrap.appendChild(cap);
        feedEl.appendChild(wrap);
      });
    }
    renderFeed();

    // ===== Photo viewer =====
    const photoModal = $("photoModal");
    const pvTitle = $("pvTitle");
    const pvImg = $("pvImg");
    const pvDesc = $("pvDesc");
    const pvMeta = $("pvMeta");

    function openPhoto(item, idx){
      pvTitle.textContent = item.title || `·∫¢nh #${idx+1}`;
      pvImg.src = item.src;
      pvImg.alt = item.title || `·∫¢nh ${idx+1}`;
      pvDesc.textContent = item.text || "";
      pvMeta.textContent = item.date || "";
      photoModal.classList.add("on");
      playMusic();
    }

    $("closePhoto").onclick = () => photoModal.classList.remove("on");
    photoModal.onclick = (e) => { if(e.target === photoModal) photoModal.classList.remove("on"); };

    window.addEventListener("keydown", (e) => {
      if(e.key === "Escape"){
        photoModal.classList.remove("on");
        letterModal.classList.remove("on");
      }
    });
  </script>
</body>
</html>
